# Bug åˆ†æ”¯ç®¡ç†ç­–ç•¥

è½¯ä»¶å¼€å‘ä¸­ï¼ŒBug å°±åƒå®¶å¸¸ä¾¿é¥­ã€‚æœ‰äº† Bug å°±éœ€è¦ä¿®å¤ã€‚åœ¨ Git ä¸­ï¼Œç”±äºåˆ†æ”¯åŠŸèƒ½å¼ºå¤§ï¼Œæ¯ä¸ª Bug éƒ½å¯ä»¥é€šè¿‡ä¸€ä¸ªæ–°çš„ä¸´æ—¶åˆ†æ”¯æ¥ä¿®å¤ï¼Œä¿®å¤ååˆå¹¶ï¼Œå¹¶åˆ é™¤è¯¥ä¸´æ—¶åˆ†æ”¯ã€‚

---

## åœºæ™¯ï¼šä½ å½“å‰æ­£åœ¨å¼€å‘ï¼Œä½†é‡åˆ°äº†ç´§æ€¥ Bug

ä½ æ­£å¤„äº `dev` åˆ†æ”¯ï¼Œå¹¶ä¸”è¿˜æœªå®Œæˆçš„å¼€å‘å·¥ä½œæ— æ³•ç«‹å³æäº¤ï¼š

```bash
$ git status
On branch dev
Changes to be committed:
  new file:   hello.py

Changes not staged for commit:
  modified:   readme.txt
```

åˆæ¥åˆ°äº†ç´§æ€¥ä¿®å¤ bugï¼ˆç¼–å· 101ï¼‰çš„ä»»åŠ¡ï¼Œéœ€è¦å°½å¿«å®Œæˆã€‚æ€ä¹ˆåŠï¼Ÿ

---

## ä½¿ç”¨ stash æš‚å­˜å½“å‰å·¥ä½œ

ä½¿ç”¨ `git stash` å°†å½“å‰å¼€å‘ç°åœºä¿å­˜èµ·æ¥ï¼š

```bash
$ git stash
Saved working directory and index state WIP on dev: f52c633 add merge
```

æ­¤æ—¶ `git status` æ˜¾ç¤ºå·¥ä½œåŒºå¹²å‡€ï¼Œå¯å®‰å…¨åœ°åˆ›å»ºåˆ†æ”¯ä¿®å¤ Bugã€‚

---

## ä¿®å¤ bugï¼šåˆ›å»ºä¸´æ—¶åˆ†æ”¯

```bash
$ git switch master
$ git checkout -b issue-101
```

ä¿®æ”¹å¹¶æäº¤ä¿®å¤å†…å®¹ï¼š

```bash
$ git add readme.txt
$ git commit -m "fix bug 101"
```

ç„¶ååˆå¹¶å› masterï¼š

```bash
$ git switch master
$ git merge --no-ff -m "merged bug fix 101" issue-101
```

å®Œæˆååˆ é™¤åˆ†æ”¯ï¼š

```bash
$ git branch -d issue-101
```

---

## ğŸ—ï¸ æ¢å¤å·¥ä½œç°åœº

åˆ‡æ¢å› `dev` åˆ†æ”¯å¹¶æ¢å¤ stashï¼š

```bash
$ git switch dev
$ git stash pop
```

å¦‚æœä½ æƒ³ä¿ç•™ stashï¼Œä¸è‡ªåŠ¨åˆ é™¤ï¼Œå¯ä»¥ç”¨ï¼š

```bash
$ git stash apply
$ git stash drop stash@{0}
```

---

## cherry-pick æŠŠ bug ä¿®å¤â€œå¤åˆ¶â€åˆ° dev åˆ†æ”¯

æ³¨æ„ï¼š`dev` åˆ†æ”¯æ˜¯ä» `master` åˆ†å‡ºæ¥çš„ï¼Œæ‰€ä»¥ bug ä¿®å¤ä¹Ÿåº”åŒæ­¥ã€‚

å‡è®¾åˆšæ‰ bug ä¿®å¤çš„ commit id æ˜¯ `4c805e2`ï¼š

```bash
$ git cherry-pick 4c805e2
```

è¿™æ ·ä¸éœ€è¦é‡æ–°ä¿®å¤ä¸€æ¬¡ bugï¼ŒGit ä¼šè‡ªåŠ¨å°†è¯¥ commit åº”ç”¨åˆ°å½“å‰åˆ†æ”¯ï¼ˆ`dev`ï¼‰ï¼Œä½† commit id ä¼šä¸åŒã€‚

---

## é¡ºåºå¯ä»¥åè¿‡æ¥å—ï¼Ÿ

å½“ç„¶å¯ä»¥ï¼ä½ ä¹Ÿå¯ä»¥å…ˆåœ¨ `dev` åˆ†æ”¯ä¿®å¤ Bugï¼Œç„¶å cherry-pick åˆ° `master`ï¼Œå‰ææ˜¯è¦å…ˆ `stash` ä¿å­˜ `dev` çš„æœªå®Œæˆå·¥ä½œï¼Œåˆ‡æ¢åˆ° `master`ã€‚

---

## å°ç»“

- Bug ä¿®å¤æµç¨‹å»ºè®®ä½¿ç”¨æ–°çš„ä¸´æ—¶åˆ†æ”¯ï¼Œä¿®å¤ååˆå¹¶å¹¶åˆ é™¤è¯¥åˆ†æ”¯ã€‚
- å½“å‰å¼€å‘æœªå®Œæˆæ—¶ï¼Œä½¿ç”¨ `git stash` æš‚å­˜å·¥ä½œç°åœºã€‚
- ä½¿ç”¨ `git cherry-pick <commit>` å¯å°†ç‰¹å®šä¿®å¤å¤åˆ¶åˆ°å…¶å®ƒåˆ†æ”¯ï¼Œé¿å…é‡å¤åŠ³åŠ¨ã€‚
